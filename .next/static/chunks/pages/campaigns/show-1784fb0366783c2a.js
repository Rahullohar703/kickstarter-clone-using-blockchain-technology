(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8164:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return r(5243)}])},5243:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(7568),s=r(1438),a=r(2951),i=r(8029),o=r(460),u=r(7582),c=r(5893),d=r(7294),h=r(2256),l=r(8005),p=r(967),m=r(3544),g=r(4148),f=r(1508),Z=r(4111),v=r(4924),b=r(5424),w=r(416),C=r(8156),j=r(6215),x=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,s.Z)(this,r),e=t.apply(this,arguments),(0,v.Z)((0,Z.Z)(e),"state",{value:"",errorMessage:"",loading:!1});var a=(0,Z.Z)(e);return(0,v.Z)((0,Z.Z)(e),"onSubmit",function(){var e=(0,n.Z)((function(e){var t,r,n;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:e.preventDefault(),t=(0,g.Z)(a.props.address),a.setState({loading:!0,errorMessage:""}),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,f.Z.eth.getAccounts()];case 2:return r=s.sent(),[4,t.methods.contribute().send({from:r[0],value:f.Z.utils.toWei(a.state.value,"ether")})];case 3:return s.sent(),j.Router.pushRoute("/campaigns/".concat(a.props.address)),[3,5];case 4:return n=s.sent(),a.setState({errorMessage:n.message}),[3,5];case 5:return a.setState({loading:!1,value:""}),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,c.jsxs)(b.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,c.jsxs)(b.Z.Field,{children:[(0,c.jsx)("label",{children:"Amount to Contribute"}),(0,c.jsx)(w.Z,{value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})},label:"ether",labelPosition:"right"})]}),(0,c.jsx)(C.Z,{error:!0,header:"Oops",content:this.state.errorMessage}),(0,c.jsx)(p.Z,{primary:!0,loading:this.state.loading,children:"Contribute!"})]})}}]),r}(d.Component),y=x,_=function(e){(0,i.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"renderCards",value:function(){var e=this.props,t=e.balance,r=[{header:e.manager,meta:"Address of Manager",description:"The manager created this campaign and can create requests to withdraw money",style:{overflowWrap:"break-word"}},{header:e.minimumContribution,meta:"Minimum Contribution (wei)",description:"You must contribute at least this much wei to become an approver"},{header:e.requestsCount,meta:"Number of Requests",description:"A request tries to withdraw money from the contract. Requests must be approved by approvers"},{header:e.approversCount,meta:"Number of Approvers",description:"Number of people who have already donated to this campaign"},{header:f.Z.utils.fromWei(t,"ether"),meta:"Campaign Balance (ether)",description:"The balance is how much money this campaign has left to spend."}];return(0,c.jsx)(h.Z.Group,{items:r})}},{key:"render",value:function(){return(0,c.jsxs)(m.Z,{children:[(0,c.jsx)("h3",{children:"Campaign Show"}),(0,c.jsxs)(l.Z,{children:[(0,c.jsxs)(l.Z.Row,{children:[(0,c.jsx)(l.Z.Column,{width:10,children:this.renderCards()}),(0,c.jsx)(l.Z.Column,{width:6,children:(0,c.jsx)(y,{address:this.props.address})})]}),(0,c.jsx)(l.Z.Row,{children:(0,c.jsx)(l.Z.Column,{children:(0,c.jsx)(j.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,c.jsx)("a",{children:(0,c.jsx)(p.Z,{primary:!0,children:"View Requests!"})})})})})]})]})}}],[{key:"getInitialProps",value:function(e){return(0,n.Z)((function(){var t;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,(0,g.Z)(e.query.address).methods.getSummary().call()];case 1:return t=r.sent(),console.log(t),[2,{address:e.query.address,minimumContribution:t[0].toString(),balance:t[1].toString(),requestsCount:t[2].toString(),approversCount:t[3].toString(),manager:t[4]}]}}))}))()}}]),r}(d.Component),S=_}},function(e){e.O(0,[774,844,65,299,421,888,179],(function(){return t=8164,e(e.s=t);var t}));var t=e.O();_N_E=t}]);